<div class="row mb-3" style="background-color: rgb(52, 133, 89)">
  <div style="width: 100%; height: 15px; background-color: white"></div>
  <div class="col-1">
    <img width="100" height="110" src="/imgs/static/logo.png" alt="anh logo" />
  </div>
  <div class="row col-3">
    <div class="col-12">
      <a href="/" class="h1 text-white fst-italic fw-bold" style="
          letter-spacing: 10px;
          text-decoration: none;
          text-shadow: 2px 2px 4px #000000;
        "><%= infoShop.name %></a>
    </div>
    <div class="col d-flex align-items-end">
      <a href="/" class="btn btn-outline-light h5 btn-lg fw-bold" style="
          text-decoration: none;
          margin-bottom: 0;
          border: none;
          border-radius: 10px 10px 0 0;
        ">TRANG CHỦ</a>
    </div>
    <div class="col d-flex align-items-end">
      <a href="/menu" class="btn btn-outline-light h5 btn-lg fw-bold" style="
          text-decoration: none;
          margin-bottom: 0;
          border: none;
          border-radius: 10px 10px 0 0;
        ">THỰC ĐƠN</a>
    </div>
  </div>
  <div class="col-4 row d-flex justify-content-center align-items-center">
    <div class="col-7 container-fluid">
      <form class="d-flex">
        <input style="
            background-color: white;
            color: black;
            border: 1px solid white;
            box-shadow: 2px 2px 4px #303030;
          " class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
        <button style="background-color: white; box-shadow: 2px 2px 4px #303030" class="btn btn-warning" type="submit">
          <i class="bi bi-search"></i>
        </button>
      </form>
    </div>
  </div>
  <div class="col d-flex justify-content-end">
    <div class="row col-10">
      <div class="col-12 row d-flex justify-content-center" style="background-color: white; border-radius: 0 0 0 50px; height: 40px">
        <% if (!userLogin) { %>
        <div class="col-5 d-flex justify-content-center">
          <a type="button" class="text-dark h5 fw-bold" style="text-decoration: none" data-bs-toggle="modal" data-bs-target="#ModalDangNhap">
            ĐĂNG NHẬP
          </a>
        </div>
        <div class="col-5 d-flex justify-content-center">
          <a href="/register" class="text-dark h5 fw-bold" style="text-decoration: none">
            ĐĂNG KÝ
          </a>
        </div>
        <% } else { %>
        <div class="col-6 d-flex justify-content-center">
          <a href="<%= userLogin.role === 0 ? '/admin' : '/profile' %>" class="text-dark h5 fw-bold" style="text-decoration: none">
            Chào, <%= userLogin.name %>
          </a>
        </div>
        <form action="/api/destroy" method="POST" class="col-4 d-flex justify-content-center">
          <!-- <button
            type="submit"
            class="text-dark h5 fw-bold"
            style="text-decoration: none"
          >
            ĐĂNG XUẤT
          </button> -->
          <input type="submit" id="inpLogout" hidden />
          <label type="button" for="inpLogout" class="text-dark h5 fw-bold">ĐĂNG XUẤT</label>
        </form>

        <% } %>

        <div class="col-12 row d-flex justify-content-center align-items-center mt-2" style="padding-bottom: 10px">
          <div class="col-12 d-flex justify-content-center align-items-center">
            <a href="tel:<%= infoShop.phone %>" class="text-white h5" style="
                margin-bottom: 5px;
                text-decoration: none;
                text-shadow: 2px 2px 4px #000000;
              "><%= infoShop.phone %></a>
          </div>
          <div style="
              background-color: white;
              border-radius: 40px;
              height: 20px;
              box-shadow: 2px 2px 4px #000000;
            " class="col-7 d-flex justify-content-center align-items-center">
            <span class="text-dark fw-bold">GIAO HÀNG TẬN NƠI</span>
          </div>
        </div>
      </div>
      <div style="display: none" class="row col-10" style="--bs-gutter-x: 0rem">
        <div class="col-12 row d-flex justify-content-center" style="
            background-color: white;
            border-radius: 0 0 0 50px;
            height: 40px;
          "></div>
        <div style="padding-bottom: 15px" class="col-12 row d-flex justify-content-center align-items-center">
          <div class="col-12 d-flex justify-content-center align-items-center">
            <a href="tel:19001533" class="text-white h5" style="
                margin-bottom: -10px;
                text-decoration: none;
                text-shadow: 2px 2px 4px #000000;
              ">1900-1533</a>
          </div>
          <div style="
              background-color: rgb(166 182 65);
              border-radius: 40px;
              height: 20px;
              box-shadow: 2px 2px 4px #000000;
            " class="col-7 d-flex justify-content-center align-items-center">
            <span class="text-dark fw-bold">GIAO HÀNG TẬN NƠI</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal dang nhap -->
  <!-- Modal Đăng Nhập -->
  <div class="modal fade" id="ModalDangNhap" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="loginModalLabel">Đăng nhập</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="loginForm" method="POST" action="/api/login" data-success="Đăng nhập thành công!" data-error="Email hoặc mật khẩu không đúng.">
            <!-- Nhập email -->
            <div class="mb-3">
              <label for="loginEmail" class="form-label">Email</label>
              <input type="email" class="form-control" name="email" id="loginEmail" required />
            </div>
            <!-- Nhập mật khẩu -->
            <div class="mb-3">
              <label for="loginPassword" class="form-label">Mật khẩu</label>
              <input type="password" class="form-control" id="loginPassword" name="password" required />
            </div>
            <!-- Nút đăng nhập -->
            <button type="submit" class="btn btn-dark w-100">Đăng nhập</button>
          </form>

          <!-- Link quên mật khẩu -->
          <div class="mt-3 text-center">
            <a href="#" id="forgotPasswordLink">Quên mật khẩu?</a>
          </div>

          <!-- Phần Quên Mật Khẩu -->
          <div id="forgotPasswordSection" style="display: none;">
            <form id="forgotPasswordForm">
              <div class="mb-3">
                <label for="forgotPhone" class="form-label">Số điện thoại</label>
                <input type="tel" class="form-control" id="forgotPhone" name="phone" required placeholder="Nhập số điện thoại" />
              </div>
              <button type="button" class="btn btn-primary w-100" id="sendOtpButton">Gửi OTP</button>

              <!-- Nhập OTP -->
              <div class="mb-3 mt-3" id="otpSection" style="display: none;">
                <label for="otpCode" class="form-label">Mã OTP</label>
                <input type="text" class="form-control" id="otpCode" placeholder="Nhập mã OTP" required />
              </div>

              <!-- Nhập mật khẩu mới -->
              <div class="mb-3 mt-3" id="newPasswordSection" style="display: none;">
                <label for="newPassword" class="form-label">Mật khẩu mới</label>
                <input type="password" class="form-control" id="newPassword" placeholder="Nhập mật khẩu mới" required />
              </div>

              <!-- Nút xác nhận mật khẩu mới -->
              <button type="button" class="btn btn-dark w-100" id="resetPasswordButton" style="display: none;">Đặt lại mật khẩu</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="recaptcha-container" style="display: none;"></div>